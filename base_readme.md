# Semantic Narrative Engine (SNE)

**–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π –¥–≤–∏–∂–æ–∫ –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –≥–ª—É–±–∏–Ω—É —Å–∏–º—É–ª—è—Ü–∏–∏ (Dwarf Fortress), –Ω–∞—Ä—Ä–∞—Ç–∏–≤–Ω—É—é –≥–∏–±–∫–æ—Å—Ç—å (DnD) –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ–π—Ä–æ-—Å–µ—Ç–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (SBERT/LLM).**

–î–≤–∏–∂–æ–∫ –æ—Ç—Ö–æ–¥–∏—Ç –æ—Ç –∂–µ—Å—Ç–∫–æ–π –ª–æ–≥–∏–∫–∏ (`if tag == 'ORC'`) –≤ –ø–æ–ª—å–∑—É **–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–≥–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞**. –ú–∏—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ —Å–∫—Ä–∏–ø—Ç–∞–º–∏, –∞ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ —Å–º—ã—Å–ª–æ–≤, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–ª—É–±–æ–∫–∏–µ, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–µ –∏ —ç–º–µ—Ä–¥–∂–µ–Ω—Ç–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏.

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Data-Driven & Vector-Native

–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–µ **ETL (Extract, Transform, Load)** –¥–ª—è –Ω–∞—Ä—Ä–∞—Ç–∏–≤–∞. –ú—ã —Ä–∞–∑–¥–µ–ª—è–µ–º "–ö—Ä–µ–∞—Ç–∏–≤" (LLM/Offline) –∏ "–õ–æ–≥–∏–∫—É" (Math/Runtime).

### 1. –û–Ω—Ç–æ–ª–æ–≥–∏—è –∏ –î–∞–Ω–Ω—ã–µ (The "What")

–í–º–µ—Å—Ç–æ –∂–µ—Å—Ç–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **ECS (Entity-Component-System)** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.

* **–ê—Ç–æ–º—ã (Components):** –ë–∞–∑–æ–≤—ã–µ –∫–∏—Ä–ø–∏—á–∏–∫–∏ (`Flammable`, `Greedy`, `Holy`). –•—Ä–∞–Ω—è—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –≤–µ–∫—Ç–æ—Ä—ã.
* **–ú–æ–ª–µ–∫—É–ª—ã (Prototypes):** –°–ª–æ–∂–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (`Dragon`, `Castle`), —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –∏–∑ —Å–ª–æ—Ç–æ–≤. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ ("–ù–∞–π–¥–∏ –º–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π *–æ—Å—Ç—Ä—ã–π* –∏ *–º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π*").
* **–°—Ñ–µ—Ä—ã –ë—ã—Ç–∏—è:** –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ 4-—Ö –∏–∑–º–µ—Ä–µ–Ω–∏—è—Ö:
* üß± **Material:** –§–∏–∑–∏–∫–∞, —Ä–µ—Å—É—Ä—Å—ã, —ç–∫–æ–Ω–æ–º–∏–∫–∞.
* ü©∏ **Vitality:** –ë–∏–æ–ª–æ–≥–∏—è, –≤—ã–∂–∏–≤–∞–Ω–∏–µ, —ç–≤–æ–ª—é—Ü–∏—è.
* ü§ù **Social:** –ò–µ—Ä–∞—Ä—Ö–∏—è, –≤–ª–∞—Å—Ç—å, —Å–≤—è–∑–∏.
* üëÅÔ∏è **Cognitive:** –ò–¥–µ–∏, –º–∞–≥–∏—è, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.



### 2. –ö–æ–Ω–≤–µ–π–µ—Ä –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ (The Pipeline)

–î–≤–∏–∂–æ–∫ –Ω–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ LLM –≤ —Ä–∞–Ω—Ç–∞–π–º–µ (–¥–æ—Ä–æ–≥–æ/–º–µ–¥–ª–µ–Ω–Ω–æ). –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Content Injection Pipeline**:

1. **Generators (Offline Tools):** –°–∫—Ä–∏–ø—Ç—ã –Ω–∞ –±–∞–∑–µ LLM (`data_generator.py`, `verb_generator.py`, `topology_generator.py`) –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Ç—ã—Å—è—á–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞—Ç–æ–º–æ–≤, –≥–ª–∞–≥–æ–ª–æ–≤ –∏ —Ç–æ–ø–æ–ª–æ–≥–∏–π –ø–æ–¥ –∑–∞–¥–∞–Ω–Ω—ã–π —Å–µ—Ç—Ç–∏–Ω–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Dieselpunk" –∏–ª–∏ "Dark Fantasy").
2. **Vectorization:** –û–ø–∏—Å–∞–Ω–∏—è –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ Embeddings (SBERT) –∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è.
3. **Vector Database (Runtime):** –î–≤–∏–∂–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–Ω–¥–µ–∫—Å—ã –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –∑–∞ –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥—ã.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç "—Å–∫–∞—Ä–º–ª–∏–≤–∞—Ç—å" –¥–≤–∏–∂–∫—É –∫–Ω–∏–≥–∏, –≤–∏–∫–∏ –∏–ª–∏ —Ñ–∞–Ω—Ñ–∏–∫–∏, –ø—Ä–µ–≤—Ä–∞—â–∞—è –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –∏–≥—Ä–∞–±–µ–ª—å–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏.

---

## ‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –°–∏—Å—Ç–µ–º—ã

### üé≠ Director System (Pacing & Flow)

"–†–µ–∂–∏—Å—Å–µ—Ä" —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∏–Ω–∞–º–∏–∫–æ–π –∏–≥—Ä—ã, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—è –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–∞ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è.

* **Flow Mechanics:** –ë–æ–π –∏ –¥–∏–∞–ª–æ–≥–∏ –∏–º–µ—é—Ç —Ä–∏—Ç–º (`Opener` -> `Link` -> `Finisher`). –î–≤–∏–∂–æ–∫ –ø–æ–æ—â—Ä—è–µ—Ç "–∫—Ä–∞—Å–∏–≤—ã–µ" —Ü–µ–ø–æ—á–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –∏ —à—Ç—Ä–∞—Ñ—É–µ—Ç –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ —Ç–µ–º–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ "–£–ª—å—Ç–∏–º–∞—Ç—É–º–∞" –≤ –Ω–∞—á–∞–ª–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞).
* **Context Awareness:** –í–æ –≤—Ä–µ–º—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –≤–æ–π–Ω—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä –≥–ª—É—à–∏—Ç "–º–∏—Ä–Ω—ã–µ" –∫–≤–µ—Å—Ç—ã –∏ –∞–∫—Ü–µ–Ω—Ç–∏—Ä—É–µ—Ç –¥—Ä–∞–º—É.

### üßä Narrative Iceberg (Secrets)

–°—É—â–Ω–æ—Å—Ç–∏ –∏–º–µ—é—Ç "–¥–≤–æ–π–Ω–æ–µ –¥–Ω–æ".

* **Surface:** –Ø–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ö—É–∑–Ω–µ—Ü, –¢–æ—Ä–≥–æ–≤–µ—Ü).
* **Deep:** –°–∫—Ä—ã—Ç—ã–µ —Å–µ–∫—Ä–µ—Ç—ã (–®–ø–∏–æ–Ω, –ö—É–ª—å—Ç–∏—Å—Ç).
* **Discovery:** –°–µ–∫—Ä–µ—Ç—ã –∏–º–µ—é—Ç –≤–µ–∫—Ç–æ—Ä–Ω—É—é —Å–≤—è–∑—å —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏. –û–Ω–∏ "–≤—Å–ø–ª—ã–≤–∞—é—Ç" —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–∏—Ä–∞ –∏ –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–∞ —Ä–µ–∑–æ–Ω–∏—Ä—É—é—Ç.

### üó∫Ô∏è Fractal Topology (Zoom)

–ú–∏—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ª–µ–Ω–∏–≤–æ (Just-in-Time).

* **Macro:** –ë–∏–æ–º (–ì—Ä–∞—Ñ –ª–æ–∫–∞—Ü–∏–π).
* **Meso:** –õ–æ–∫–∞—Ü–∏—è (–®–∞–±–ª–æ–Ω —Ç–æ–ø–æ–ª–æ–≥–∏–∏, –Ω–∞–ø—Ä. "Hub & Spoke").
* **Micro:** –°—É—â–Ω–æ—Å—Ç—å-–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä.
–ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å—É—â–Ω–æ—Å—Ç—å (–ó—É–º) –¥–≤–∏–∂–æ–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ—ë –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–æ–¥–∏—Ç–µ–ª—è.

---

## üõ† Tech Stack & Concepts

* **Python 3.10+**: Core logic.
* **Sentence-Transformers (SBERT)**: –õ–æ–∫–∞–ª—å–Ω–∞—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.
* **LangChain / OpenAILike API**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (Offline).
* **NumPy / FAISS**: –ë—ã—Å—Ç—Ä—ã–π –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫.
* **Pydantic**: –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º –¥–∞–Ω–Ω—ã—Ö.

---

*"–ú—ã –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥–∏–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Ä–∫–æ–≤. –ú—ã –∑–∞–¥–∞–µ–º –≤–µ–∫—Ç–æ—Ä '–ê–≥—Ä–µ—Å—Å–∏–∏' –∏ '–ü–ª–µ–º–µ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–æ—è', –∏ —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –≤—ã–≤–æ–¥–∏—Ç, —á—Ç–æ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–µ—Ä—à–∏—Ç—å –Ω–∞–±–µ–≥."*
